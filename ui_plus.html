<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AIChain Core+ — Local Node</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#0b0f14;color:#e8eef6}
    header{position:sticky;top:0;background:#0b0f14;border-bottom:1px solid #1b2633}
    .wrap{max-width:1150px;margin:0 auto;padding:18px 20px}
    h1{margin:0;font-size:18px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .card{background:#0f1620;border:1px solid #1b2633;border-radius:14px;padding:14px}
    h2{margin:0 0 8px 0;font-size:15px}
    p{margin:8px 0;color:#cdd9e5;line-height:1.45}
    .muted{color:#9fb1c1;font-size:12px}
    input,select,button{background:#0b0f14;border:1px solid #1b2633;color:#e8eef6;border-radius:10px;padding:10px;font-size:13px}
    button{cursor:pointer}
    button:hover{border-color:#2b3b52}
    .row{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
    .out{white-space:pre-wrap;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas;font-size:12px}
    .tag{display:inline-block;padding:3px 8px;border:1px solid #1b2633;border-radius:999px;font-size:12px;color:#9fb1c1}
    code{background:#0b0f14;border:1px solid #1b2633;border-radius:10px;padding:2px 6px}
    .steps{background:#0b0f14;border:1px solid #1b2633;border-radius:12px;padding:10px}
  </style>
</head>
<body>
<header>
  <div class="wrap" style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
    <h1>AIChain Core+ — Local Node (Wallet • Mine • Send • Rent Bots)</h1>
    <span class="tag">localhost</span>
  </div>
</header>

<div class="wrap">
  <div class="card">
    <h2>How to use (quick)</h2>
    <div class="steps">
      <p class="muted">
        1) <b>Create Wallet</b> → you get your address (stored locally in <code>wallet.json</code>)<br/>
        2) (Creator) <b>Enable Founder Mode</b> → you get “10,000 fixed bots” conceptually via permanent reserved priority<br/>
        3) <b>Send TX</b> → goes to mempool (AI committee decides)<br/>
        4) <b>Mine</b> → produces a block and pays rewards + fees<br/>
        5) <b>Rent Bots</b> → create renter + spot/reserved + credits, earn from renters pool
      </p>
    </div>
  </div>

  <div class="grid" style="margin-top:14px;">
    <div class="card">
      <h2>Wallet</h2>
      <p class="muted">Your wallet is a local file. Keep it backed up. Private key stays on your device.</p>
      <div class="row">
        <button onclick="api('/api/wallet_create',{label:'default'})">Create Wallet</button>
        <button onclick="api('/api/wallet_info',{})">Wallet Info</button>
        <button onclick="api('/api/founder_enable',{})">Enable Founder Mode (10k bots)</button>
      </div>
      <div class="row">
        <button onclick="api('/api/status',{})">Node Status</button>
        <button onclick="api('/api/audit_verify',{})">Audit Verify</button>
      </div>

      <h2>Mining</h2>
      <p class="muted">Mining commits mempool transactions into a new block.</p>
      <div class="row">
        <button onclick="api('/api/mine',{any_miner_addr:'x'})">Mine 1 block</button>
        <button onclick="mineN(5)">Mine 5 blocks</button>
      </div>
    </div>

    <div class="card">
      <h2>Send Transaction</h2>
      <p class="muted">Tip: use your wallet address as <b>from</b>. If rejected, you may get a private receipt.</p>
      <div class="row">
        <input id="from" placeholder="from address"/>
        <input id="to" placeholder="to address"/>
      </div>
      <div class="row">
        <input id="amt" placeholder="amount" value="100000"/>
        <input id="fee" placeholder="fee" value="1000"/>
      </div>
      <div class="row">
        <input id="memo" placeholder="memo (optional)" value="hello"/>
        <button onclick="sendTx()">Send</button>
        <button onclick="fillFromWallet()">Use my wallet as from</button>
      </div>

      <h2>Rent Bots (Marketplace)</h2>
      <p class="muted">Instant capacity upgrade. Runs locally, paid securely.</p>
      <div class="row">
        <a href="https://buy.stripe.com/dRm3cxaligqC6Kf99tdAk04" target="_blank" rel="noopener"><button>Rent Bots — Pay with Stripe</button></a>
      </div>
      <p class="muted">Create a renter + API key, then place spot/reserved and allocate credits.</p>
      <div class="row">
        <input id="renter" placeholder="renter" value="alice"/>
        <input id="apikey" placeholder="api_key"/>
      </div>
      <div class="row">
        <button onclick="api('/api/renter_create',{renter:val('renter')})">Create renter</button>
        <button onclick="api('/api/renter_status',{renter:val('renter'),api_key:val('apikey')})">Renter status</button>
      </div>
      <div class="row">
        <select id="tier">
          <option>Bronze</option><option>Silver</option><option selected>Gold</option><option>Platinum</option>
        </select>
        <input id="bid" placeholder="spot bid_bps" value="7000"/>
        <input id="maxc" placeholder="max_credits" value="3000"/>
